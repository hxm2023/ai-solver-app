╔══════════════════════════════════════════════════════════════════════════════╗
║                   沐梧AI解题系统 - 5大模型切换使用手册                          ║
║                         ⚡ 只需修改1行代码即可切换                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📌 第一步：配置API密钥（2分钟）                                                │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  1. 创建配置文件                                                              │
│     cd backend                                                               │
│     copy .env.example.api_models .env                                        │
│                                                                              │
│  2. 编辑 .env，填入API密钥                                                    │
│     DASHSCOPE_API_KEY=sk-你的阿里云密钥                                       │
│     QWEN3_API_KEY=sk-你的SiliconFlow密钥                                      │
│     QWEN235_API_KEY=你的TogetherAI密钥                                        │
│                                                                              │
│  🔑 API密钥获取地址：                                                         │
│     • 阿里云：https://dashscope.console.aliyun.com/                          │
│     • SiliconFlow：https://cloud.siliconflow.cn/                             │
│     • Together AI：https://www.together.ai/                                  │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📌 第二步：激活配置（30秒）                                                    │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│     cd backend                                                               │
│     copy config.py config_backup.py         # 备份原配置                      │
│     copy config_api_models.py config.py     # 激活新配置                      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📌 第三步：测试连接（1分钟）                                                   │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│     python test_5_models.py --all                                            │
│                                                                              │
│  预期输出：                                                                   │
│     ✅ 成功 qwen-vl-max                                                       │
│     ✅ 成功 qwen3-vl-32b-thinking                                             │
│     ✅ 成功 qwen3-vl-32b-instruct                                             │
│     ✅ 成功 qwen3-vl-235b-a22b-thinking                                       │
│     ✅ 成功 qwen3-vl-235b-a22b-instruct                                       │
│     总计: 5/5 个模型连接成功 🎉                                                │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 🔥 核心功能：切换模型（只需修改1行代码）                                        │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  编辑文件：backend/config.py                                                  │
│  找到第23行：                                                                 │
│                                                                              │
│      ACTIVE_MODEL_KEY = "qwen-vl-max"                                        │
│                                                                              │
│  改为以下任意一个：                                                           │
│                                                                              │
│      ACTIVE_MODEL_KEY = "qwen-vl-max"                   # 闭源基准            │
│      ACTIVE_MODEL_KEY = "qwen3-vl-32b-thinking"         # 32B思考链          │
│      ACTIVE_MODEL_KEY = "qwen3-vl-32b-instruct"         # 32B快速响应        │
│      ACTIVE_MODEL_KEY = "qwen3-vl-235b-a22b-thinking"   # 235B高性能思考     │
│      ACTIVE_MODEL_KEY = "qwen3-vl-235b-a22b-instruct"   # 235B高性能快速     │
│                                                                              │
│  保存后，重启后端：python main_db.py                                          │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════════════╗
║                            💰 模型价格对比                                     ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  模型                               价格              相对成本   节省        ║
║  ─────────────────────────────────────────────────────────────────────────  ║
║  qwen-vl-max                    ¥0.008/千tokens      100%     基准          ║
║  qwen3-vl-32b-thinking          ¥0.003/千tokens      37.5%    节省62.5%     ║
║  qwen3-vl-32b-instruct          ¥0.003/千tokens      37.5%    节省62.5%     ║
║  qwen3-vl-235b-a22b-thinking    ¥0.006/千tokens      75%      节省25%       ║
║  qwen3-vl-235b-a22b-instruct    ¥0.006/千tokens      75%      节省25%       ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

╔══════════════════════════════════════════════════════════════════════════════╗
║                           💡 使用场景推荐                                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  🎯 日常批改作业（高频）                                                       ║
║     推荐：qwen3-vl-32b-instruct + SiliconFlow                                ║
║     理由：成本最低（¥0.003），响应快                                          ║
║                                                                              ║
║  🧮 复杂题目解答（中频）                                                       ║
║     推荐：qwen3-vl-235b-a22b-thinking + Together AI                          ║
║     理由：推理能力强，准确率高                                                 ║
║                                                                              ║
║  📝 生成试卷（低频）                                                           ║
║     推荐：qwen-vl-max 或 qwen3-vl-235b-a22b-instruct                         ║
║     理由：质量最优，可靠性高                                                   ║
║                                                                              ║
║  💰 极致成本优化                                                               ║
║     推荐：qwen3-vl-32b-thinking + SiliconFlow                                ║
║     理由：节省62.5%成本                                                        ║
║                                                                              ║
║  🚀 高性能追求                                                                 ║
║     推荐：qwen3-vl-235b-a22b-instruct + Together AI                          ║
║     理由：性能最强，响应快                                                     ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ 🛠️  实用命令速查                                                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  # 查看当前模型                                                               │
│  python show_model_comparison.py                                             │
│                                                                              │
│  # 查看价格对比                                                               │
│  python show_model_comparison.py --price                                     │
│                                                                              │
│  # 查看所有信息                                                               │
│  python show_model_comparison.py --all                                       │
│                                                                              │
│  # 测试当前模型                                                               │
│  python test_5_models.py                                                     │
│                                                                              │
│  # 测试所有模型                                                               │
│  python test_5_models.py --all                                               │
│                                                                              │
│  # 一键切换（Windows）                                                        │
│  【一键切换】模型切换脚本.bat                                                  │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📊 评测与报告                                                                  │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  系统自动记录评测数据：                                                        │
│     backend/evaluation_data/evaluation_results.csv                           │
│                                                                              │
│  生成对比报告：                                                                │
│     python -c "from evaluation_suite import EvaluationLogger,                │
│                ReportGenerator; logger = EvaluationLogger();                 │
│                report = ReportGenerator(logger);                             │
│                report.generate_report()"                                     │
│                                                                              │
│  报告位置：                                                                    │
│     backend/evaluation_reports/evaluation_report_*.md                        │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ ❓ 常见问题                                                                    │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Q: 如何切换模型？                                                             │
│  A: 编辑 config.py 第23行，修改 ACTIVE_MODEL_KEY，然后重启后端                │
│                                                                              │
│  Q: 切换后需要重启吗？                                                         │
│  A: 是的，必须重启后端（Ctrl+C 停止，然后 python main_db.py）                 │
│                                                                              │
│  Q: 为什么返回API错误？                                                        │
│  A: 检查 .env 中的API密钥、网络连接、服务商支持的模型列表                      │
│                                                                              │
│  Q: 评测数据在哪里？                                                           │
│  A: backend/evaluation_data/evaluation_results.csv                           │
│                                                                              │
│  Q: 如何查看当前使用的模型？                                                   │
│  A: 运行 python show_model_comparison.py                                     │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════════════╗
║                           📚 详细文档参考                                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  • README_5_MODELS_API.md - 快速入门指南                                      ║
║  • 【快速指南】5大模型切换与评测.md - 详细技术文档                             ║
║  • 【快速开始】5大模型API切换完整指南.md - 完整操作流程                        ║
║  • 【交付】5大模型API切换功能完整说明.md - 功能说明书                          ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

╔══════════════════════════════════════════════════════════════════════════════╗
║                          🎯 完整操作流程检查清单                               ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  配置阶段                                                                     ║
║  ☐ 获取阿里云DashScope API密钥                                                ║
║  ☐ 获取SiliconFlow/Together AI密钥                                           ║
║  ☐ 创建 .env 文件并配置密钥                                                   ║
║  ☐ 备份原 config.py                                                          ║
║  ☐ 激活 config_api_models.py                                                 ║
║  ☐ 运行 python test_5_models.py --all                                       ║
║                                                                              ║
║  测试阶段                                                                     ║
║  ☐ 切换到模型1，进行10次测试                                                  ║
║  ☐ 切换到模型2，进行10次测试                                                  ║
║  ☐ 切换到模型3，进行10次测试                                                  ║
║  ☐ 切换到模型4，进行10次测试                                                  ║
║  ☐ 切换到模型5，进行10次测试                                                  ║
║  ☐ 检查评测数据已记录                                                         ║
║                                                                              ║
║  报告阶段                                                                     ║
║  ☐ 生成评测报告                                                               ║
║  ☐ 查看报告内容                                                               ║
║  ☐ 分析性能和成本                                                             ║
║  ☐ 选择最佳模型                                                               ║
║  ☐ 更新生产环境配置                                                           ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

╔══════════════════════════════════════════════════════════════════════════════╗
║                            🎉 恭喜！准备就绪                                   ║
║                                                                              ║
║         现在您可以在5个大模型之间自由切换，并进行科学的性能评测了！            ║
║                                                                              ║
║                          祝您使用愉快！🚀                                      ║
╚══════════════════════════════════════════════════════════════════════════════╝

