# 🎓 沐梧AI学习系统 - 前端新界面使用指南

## ✨ 重大更新

已为系统添加完整的前端界面，让不懂代码的用户也能轻松使用所有功能！

---

## 🚀 快速开始

### 1. 启动后端服务
```bash
cd backend
uvicorn main:app --reload
```

### 2. 启动前端服务
```bash
cd frontend/vite-project
npm run dev
```

### 3. 访问新界面
打开浏览器，访问：
```
http://localhost:5173/
```

默认会进入**新的个性化学习系统界面**

---

## 🎯 界面功能

### 1️⃣ 登录界面

**功能**：
- ✅ 用户注册
- ✅ 用户登录
- ✅ 快速测试登录（一键登录测试账号）

**快速测试**：
- 用户名：`test_student`
- 密码：`password123`

点击 "⚡ 快速测试登录" 按钮即可自动填充并登录！

---

### 2️⃣ 错题本界面 📚

**位置**：登录后点击顶部 "📚 错题本" 标签

**功能**：
- ✅ 查看所有错题
- ✅ 统计卡片（总数、已复习、未复习、复习进度）
- ✅ 按学科筛选
- ✅ 按复习状态筛选
- ✅ 标记已复习
- ✅ 删除错题
- ✅ 查看错题详情

**操作步骤**：
1. 选择学科（数学/物理/化学等）
2. 选择状态（全部/未复习/已复习）
3. 点击 "🔍 筛选" 查看
4. 点击 "📖 标记已复习" 记录复习
5. 点击 "🗑️ 删除" 移除错题

---

### 3️⃣ 智能出题界面 🎯

**位置**：登录后点击顶部 "🎯 智能出题" 标签

**功能**：
- ✅ 4步向导式操作
- ✅ 从错题中选择
- ✅ AI提炼知识点
- ✅ 设置生成参数（难度、题型、数量）
- ✅ 查看生成结果

**操作步骤**：

**步骤1：选择错题**
1. 勾选要分析的错题（可多选）
2. 点击 "🧠 分析已选错题" 按钮

**步骤2：选择知识点**
1. 查看AI提炼的知识点
2. 勾选需要的知识点（可多选）
3. 点击 "下一步：设置参数"

**步骤3：设置参数**
1. 选择难度：简单/中等/困难
2. 设置选择题数量（0-10）
3. 设置填空题数量（0-10）
4. 点击 "🎲 开始生成"

**步骤4：查看结果**
1. 查看生成的题目
2. 包含题干、选项、答案、解析
3. 可以导出题目（功能开发中）

---

### 4️⃣ 试卷生成界面 📄

**位置**：登录后点击顶部 "📄 试卷生成" 标签

**功能**：
- ✅ 从题库选题
- ✅ 设置试卷信息
- ✅ 生成双版本PDF
- ✅ 下载学生版（无答案）
- ✅ 下载教师版（含答案）
- ✅ 查看历史试卷

**操作步骤**：

**组卷流程**：
1. **左侧**：勾选要使用的题目
2. **右侧**：填写试卷信息
   - 试卷标题（如"期中考试"）
   - 总分（如100分）
   - 时长（如90分钟）
3. 点击 "📄 生成试卷" 按钮

**下载试卷**：
1. 在 "我的试卷" 列表中找到试卷
2. 点击 "📥 下载学生版"（给学生做题用）
3. 点击 "📥 下载教师版"（含答案和解析）

---

## 🎨 界面预览

### 登录界面
```
┌─────────────────────────────┐
│  🎓 沐梧AI学习系统            │
│    个性化智能学习平台          │
├─────────────────────────────┤
│  [  登录  ] [  注册  ]       │
│                             │
│  用户名: [____________]      │
│  密码:   [____________]      │
│                             │
│  [      登录/注册      ]     │
│                             │
│  ⚡ 快速测试登录              │
│  用户名: test_student        │
│  密码: password123          │
├─────────────────────────────┤
│  🎉 功能特色                 │
│  📚 智能错题本               │
│  🎯 AI智能出题               │
│  📄 试卷生成                │
└─────────────────────────────┘
```

### 主界面
```
┌──────────────────────────────────────────────────┐
│ 🎓 沐梧AI学习系统  [🧠AI解题][📝批改][📚学习中心]  👤用户 [退出] │
├──────────────────────────────────────────────────┤
│                                                  │
│  [  📚 错题本  ] [  🎯 智能出题  ] [  📄 试卷生成  ] │
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │  内容区域                                    │ │
│  │  （显示对应功能的界面）                       │ │
│  └────────────────────────────────────────────┘ │
│                                                  │
├──────────────────────────────────────────────────┤
│  沐梧AI个性化学习系统 V23.0-F4-COMPLETE           │
│  API文档 | 帮助文档 | 反馈建议                    │
└──────────────────────────────────────────────────┘
```

---

## 💡 使用技巧

### 1. 快速登录测试
- 点击 "⚡ 快速测试登录" 按钮
- 自动填充测试账号并登录

### 2. 批量操作
- 错题本：可以批量选择错题进行分析
- 智能出题：可以同时生成多种题型
- 试卷生成：可以选择多道题目组卷

### 3. 完整工作流
```
1. 做错题 → 保存到错题本
2. 选择错题 → AI提炼知识点
3. 选择知识点 → 生成练习题
4. 选择题目 → 组卷生成PDF
5. 下载试卷 → 打印做题
6. 批改后 → 再次保存错题
↓
形成学习闭环！
```

---

## 🔧 切换界面模式

### 访问新界面（默认）
```
http://localhost:5173/
```

### 访问原解题界面
```
http://localhost:5173/?mode=old
```

---

## 📊 功能对比

| 功能 | 原界面 | 新界面 |
|-----|-------|-------|
| AI解题 | ✅ | 🔜（整合中） |
| AI批改 | ✅ | 🔜（整合中） |
| 用户登录 | ❌ | ✅ |
| 错题本管理 | ❌ | ✅ |
| 智能出题 | ❌ | ✅ |
| 试卷生成 | ❌ | ✅ |
| PDF下载 | ❌ | ✅ |

---

## 🐛 常见问题

### Q1: 登录失败
**原因**：后端服务未启动或Token过期

**解决**：
1. 确保后端服务运行：`uvicorn main:app --reload`
2. 检查控制台错误信息
3. 尝试重新注册账号

### Q2: 无法加载错题
**原因**：未登录或没有错题数据

**解决**：
1. 确保已登录
2. 先运行测试脚本创建测试数据：
   ```bash
   cd backend
   python test_feature2_mistakes.py
   ```

### Q3: 生成题目失败
**原因**：没有错题数据或AI调用失败

**解决**：
1. 先在错题本添加错题
2. 或运行测试脚本：`python test_feature3_question_gen.py`
3. 检查通义千问API Key配置

### Q4: PDF下载失败
**原因**：试卷还未生成或文件不存在

**解决**：
1. 确保已生成试卷
2. 查看后端日志
3. 检查`backend/generated_papers/`目录

---

## 🎉 完整测试流程

### 方法1：使用网页界面（推荐）

1. **启动服务**
   ```bash
   # 终端1：启动后端
   cd backend
   uvicorn main:app --reload

   # 终端2：启动前端
   cd frontend/vite-project
   npm run dev
   ```

2. **访问界面**
   - 打开 http://localhost:5173/
   - 点击 "⚡ 快速测试登录"

3. **使用功能**
   - 查看错题本（如果为空，先运行测试脚本创建数据）
   - 生成题目
   - 生成试卷
   - 下载PDF

### 方法2：先运行测试脚本准备数据

```bash
cd backend

# 1. 创建测试账号
python test_feature1_auth.py

# 2. 创建测试错题
python test_feature2_mistakes.py

# 3. 生成测试题目
python test_feature3_question_gen.py

# 4. 生成测试试卷
python test_feature4_papers.py
```

然后访问网页界面，可以看到所有测试数据！

---

## 📦 文件结构

```
frontend/vite-project/src/
├── main.tsx                    # 入口文件（路由选择）
├── App.tsx                     # 原解题界面
├── MainApp.tsx                 # 新主界面（整合）
├── MainApp.css
├── LoginPage.tsx               # 登录界面
├── LoginPage.css
├── PersonalLearning.tsx        # 个性化学习系统
├── PersonalLearning.css
└── ...
```

---

## 🚀 下一步优化

- [ ] 整合原解题界面到新系统
- [ ] 整合原批改界面到新系统
- [ ] 添加题目详情查看
- [ ] 添加题目编辑功能
- [ ] 添加数据导出功能
- [ ] 添加学习报告功能
- [ ] 添加更多图表和统计
- [ ] 优化移动端适配

---

## 📞 技术支持

- **API文档**：http://127.0.0.1:8000/docs
- **后端日志**：查看终端输出
- **前端控制台**：F12打开开发者工具

---

**享受你的个性化学习之旅！🎓**

