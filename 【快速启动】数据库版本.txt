╔═══════════════════════════════════════════════════════════════════╗
║                                                                   ║
║            沐梧AI解题系统 - 数据库版本 V25.2                      ║
║                                                                   ║
║                      快速启动指南                                  ║
║                                                                   ║
╚═══════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────┐
│  🚀 第一步：启动系统                                             │
└─────────────────────────────────────────────────────────────────┘

  双击运行：【启动】数据库版本系统.bat

  系统会自动：
  ✓ 启动后端服务（FastAPI + MySQL）
  ✓ 启动前端服务（React + Vite）
  ✓ 打开浏览器

┌─────────────────────────────────────────────────────────────────┐
│  🔐 第二步：注册/登录                                            │
└─────────────────────────────────────────────────────────────────┘

  访问地址：http://localhost:5173/?mode=db

  首次使用：
  1. 点击"还没有账号？立即注册"
  2. 输入账号、密码
  3. 点击"注册"
  4. 注册成功后，点击"立即登录"

  已有账号：
  1. 输入账号、密码
  2. 点击"登录"

┌─────────────────────────────────────────────────────────────────┐
│  📚 第三步：选择功能                                             │
└─────────────────────────────────────────────────────────────────┘

  登录后会看到三个选项：

  🧠 AI 智能解题
     → 上传题目，AI详细解答

  📝 AI 批改作业
     → 上传答案，AI批改 + 自动保存错题

  📚 智能错题本
     → 管理错题 + AI出题 + PDF导出

┌─────────────────────────────────────────────────────────────────┐
│  ✨ 核心特色                                                     │
└─────────────────────────────────────────────────────────────────┘

  ✅ 与本地版本完全相同的UI和功能
  ✅ 用户登录注册（账号密码认证）
  ✅ MySQL云端数据存储
  ✅ 批改模式自动识别错题并保存到数据库
  ✅ 会话历史云端同步
  ✅ 多用户数据隔离
  ✅ MathJax公式完美渲染
  ✅ 快捷按钮（继续回答/检查错误）
  ✅ 图片裁剪 + 连续对话

┌─────────────────────────────────────────────────────────────────┐
│  🎯 使用技巧                                                     │
└─────────────────────────────────────────────────────────────────┘

  【解题模式】
  • 单题模式：上传 → 裁剪 → 解析
  • 整页模式：上传整张作业 → 一次性解答
  • 指定题目：输入"第3题"或"带有函数的题目"

  【批改模式】
  • 上传包含题目+答案的图片
  • AI会指出对错并给出正确解法
  • 错题自动保存到数据库（包含知识点标签）

  【连续对话】
  • AI回答后，点击快捷按钮或输入追问
  • "请继续回答" / "请检查是否有误"
  • 无需重新上传图片！

  【历史会话】
  • 点击"📚 历史记录"查看所有会话
  • 点击任一会话即可恢复
  • 点击"➕ 新对话"开始新的解题

  【错题本】
  • 查看所有错题（按知识点筛选）
  • AI智能出题（推荐使用"混合模式"）
  • PDF导出试卷

┌─────────────────────────────────────────────────────────────────┐
│  ⚠️ 注意事项                                                     │
└─────────────────────────────────────────────────────────────────┘

  1. 确保MySQL数据库已启动
     • 连接信息：14.103.127.20:3306
     • 数据库名：edu

  2. 确保.env文件已配置API密钥
     • 路径：backend/.env
     • 内容：DASHSCOPE_API_KEY=sk-xxx

  3. 如果公式渲染异常：
     • 刷新页面（F5）
     • 等待3-5秒让MathJax加载

  4. 如果登录后提示401错误：
     • 退出登录
     • 重新登录即可

  5. 历史对话恢复后无法追问：
     • 原因：后端重启导致会话丢失
     • 解决：查看历史内容或开启新对话

┌─────────────────────────────────────────────────────────────────┐
│  📊 版本对比                                                     │
└─────────────────────────────────────────────────────────────────┘

  【本地版本 (mode=old)】
  • 访问：http://localhost:5173/?mode=old
  • 数据存储：浏览器localStorage
  • 特点：无需登录，数据本地保存

  【数据库版本 (mode=db)】
  • 访问：http://localhost:5173/?mode=db
  • 数据存储：MySQL云端数据库
  • 特点：需要登录，数据云端同步，多用户支持

  💡 两个版本功能完全相同，只是数据存储方式不同！

┌─────────────────────────────────────────────────────────────────┐
│  🔧 故障排查                                                     │
└─────────────────────────────────────────────────────────────────┘

  【前端无法访问】
  → 检查终端是否显示"Local: http://localhost:5173"
  → 确保5173端口未被占用

  【后端无法连接】
  → 检查终端是否显示"Uvicorn running on http://127.0.0.1:8000"
  → 确保8000端口未被占用

  【数据库连接失败】
  → 检查MySQL服务是否启动
  → 验证连接信息（14.103.127.20:3306）
  → 检查用户名密码（root / Jiuzhi#2024）

  【API调用失败】
  → 检查.env文件中的API密钥
  → 确认API密钥有效且有余额

  【查看详细日志】
  → 前端：浏览器按F12打开控制台
  → 后端：查看启动的cmd窗口

┌─────────────────────────────────────────────────────────────────┐
│  📞 获取帮助                                                     │
└─────────────────────────────────────────────────────────────────┘

  详细文档：【必读】数据库版本使用指南.md

  技术架构：【工程文档】沐梧AI解题系统完整技术文档.md

  问题反馈：联系项目负责人

╔═══════════════════════════════════════════════════════════════════╗
║                                                                   ║
║  ✨ 祝你使用愉快！                                                ║
║                                                                   ║
║  © 2025 沐梧AI解题系统 - 让学习更高效                             ║
║                                                                   ║
╚═══════════════════════════════════════════════════════════════════╝

