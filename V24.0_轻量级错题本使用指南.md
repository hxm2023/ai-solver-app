# 🎓 沐梧AI - 轻量级智能错题本系统 V24.0

## 📌 系统特点

### ✨ 全新特性
- **无需登录** - 开箱即用，不需要注册账号
- **无需数据库** - 使用JSON文件存储，轻量便捷
- **AI驱动** - 智能分析错题，自动生成练习题
- **即时导出** - 支持Markdown格式导出

### 🎯 核心功能
1. **智能错题本** - 保存题目图片、AI分析、知识点标注
2. **AI智能出题** - 基于错题自动生成针对性练习题
3. **试卷导出** - 一键导出Markdown格式试卷

---

## 🚀 快速开始

### 1. 启动系统

**方式一：一键启动（推荐）**
```bash
双击运行：【启动】简化版错题本系统.bat
```
会自动启动后端和前端服务。

**方式二：分别启动**
```bash
# 启动后端
双击：启动简化版后端.bat

# 启动前端（另开窗口）
cd frontend/vite-project
npm run dev
```

### 2. 访问界面

启动后，浏览器访问：
```
http://localhost:5173/
```

---

## 📖 使用教程

### 第一步：添加错题

目前有两种方式添加错题：

#### 方式1：从原解题界面添加（自动）
1. 访问：`http://localhost:5173/?mode=old`
2. 上传题目图片，进行AI解题
3. 如果AI检测到答案错误，会自动保存到错题本

#### 方式2：手动添加（API调用）
```bash
# 使用API直接添加
POST http://127.0.0.1:8000/mistakes/
{
  "image_base64": "图片的base64编码",
  "question_text": "题目文本",
  "wrong_answer": "你的错误答案",
  "ai_analysis": "AI分析",
  "subject": "数学",
  "knowledge_points": ["函数", "导数"]
}
```

### 第二步：查看错题本

1. **打开"📚 错题本"标签页**
   - 查看所有保存的错题
   - 每道错题显示：图片、题目文本、知识点、科目
   - 可以删除不需要的错题

2. **选择错题进行练习**
   - 勾选你想要加强练习的错题
   - 选中的错题会高亮显示

### 第三步：AI智能出题

1. **切换到"🎯 AI出题"标签页**
2. **确认已选择错题**（顶部显示选中数量）
3. **点击"✨ 开始生成"按钮**
4. 等待5-10秒，AI会分析错题并生成针对性练习题
5. 生成成功后自动跳转到"生成的题目"标签页

### 第四步：查看和导出题目

1. **打开"✨ 生成的题目"标签页**
2. **查看题目详情**
   - 题目内容
   - 标准答案
   - 详细解析
   - 知识点标注

3. **导出题目**
   - 单个导出：点击题目右上角的"📥 导出"按钮
   - 批量导出：点击页面右上角的"📥 导出全部"按钮
   - 下载的Markdown文件可以用任何文本编辑器打开

---

## 💡 使用技巧

### 1. 知识点追踪
- 错题本会自动统计知识点分布
- 顶部卡片显示：
  - 错题总数
  - 生成题目数
  - 已选错题数

### 2. 智能筛选
- 可以按科目筛选错题
- 点击刷新按钮更新列表

### 3. 题目管理
- 定期删除已掌握的错题
- 保持错题本的精简高效

### 4. 导出格式
导出的Markdown文件包含：
```markdown
# 练习题集

生成时间：2025-10-19 12:30:45

---

## 题目1

[题目内容]

**答案：** [标准答案]

**解析：** [详细步骤]

**知识点：** 函数, 导数

---
```

---

## 🔧 API参考

### 错题本API

#### 创建错题
```
POST /mistakes/
```
请求体：
```json
{
  "image_base64": "base64编码的图片",
  "question_text": "题目文本",
  "wrong_answer": "错误答案",
  "ai_analysis": "AI分析",
  "subject": "科目",
  "knowledge_points": ["知识点1", "知识点2"]
}
```

#### 获取错题列表
```
GET /mistakes/?subject=数学&limit=10&offset=0
```

#### 获取单个错题
```
GET /mistakes/{mistake_id}
```

#### 删除错题
```
DELETE /mistakes/{mistake_id}
```

#### 获取统计信息
```
GET /mistakes/stats/summary
```

### 题目生成API

#### 生成题目
```
POST /questions/generate
```
请求体：
```json
{
  "mistake_ids": ["错题ID1", "错题ID2"],
  "count": 3,
  "difficulty": "中等"
}
```

#### 获取题目列表
```
GET /questions/?limit=10&offset=0
```

#### 删除题目
```
DELETE /questions/{question_id}
```

### 导出API

#### 导出为Markdown
```
POST /export/markdown
```
请求体：
```json
{
  "question_ids": ["题目ID1", "题目ID2"],
  "title": "练习题集"
}
```

---

## 📁 数据存储

所有数据存储在后端的 `simple_data` 目录：

```
backend/
  simple_data/
    mistakes.json          # 错题数据
    generated_questions.json  # 生成的题目数据
```

### 备份数据
直接复制这两个JSON文件即可备份所有数据。

### 迁移数据
将备份的JSON文件复制到新环境的 `simple_data` 目录。

---

## ❓ 常见问题

### Q1: 如何批量添加错题？
**A:** 目前推荐使用原解题界面（`?mode=old`），让AI自动识别和保存错题。

### Q2: 生成的题目质量如何保证？
**A:** AI会分析错题的：
- 知识点
- 错误类型
- 难度级别

然后生成针对性的练习题。

### Q3: 可以修改错题信息吗？
**A:** 目前不支持直接编辑，但可以删除后重新添加。

### Q4: 生成题目很慢怎么办？
**A:** 
- AI生成需要5-10秒，属于正常
- 如果超过30秒，检查网络连接
- 检查后端API Key是否配置正确

### Q5: 能不能支持多人使用？
**A:** 当前版本是单机版，不支持多用户。如需多用户功能，请使用V23.0的带数据库版本。

---

## 🎨 界面模式

系统提供三种界面模式：

### 1. 简化版错题本（默认）
```
http://localhost:5173/
```
- 无需登录
- 错题管理 + AI出题
- 推荐日常使用

### 2. 原解题界面
```
http://localhost:5173/?mode=old
```
- OCR识别 + AI解题
- 自动保存错题
- 用于做题和批改

### 3. 完整版（带登录）
```
http://localhost:5173/?mode=new
```
- 需要注册登录
- 完整功能（如果数据库配置正常）
- 多用户支持

---

## 🆚 版本对比

| 功能 | V24.0 轻量版 | V23.0 完整版 |
|------|-------------|-------------|
| 需要登录 | ❌ | ✅ |
| 数据库依赖 | ❌ | ✅ SQLAlchemy |
| 错题本 | ✅ | ✅ |
| AI出题 | ✅ | ✅ |
| 试卷导出 | ✅ Markdown | ✅ PDF/Markdown |
| 多用户 | ❌ | ✅ |
| 部署难度 | 简单 | 中等 |
| 推荐场景 | 个人使用 | 团队/教学 |

---

## 🔄 更新日志

### V24.0 (2025-10-19)
- ✅ 移除数据库依赖，改用JSON文件存储
- ✅ 移除登录系统，开箱即用
- ✅ 简化部署流程
- ✅ 优化UI设计
- ✅ 新增统计看板

---

## 📞 技术支持

如有问题，请检查：
1. 后端服务是否正常启动
2. API Key是否配置正确（`.env`文件）
3. 端口8000和5173是否被占用
4. 浏览器Console是否有错误信息

---

## 📄 许可证

本项目仅供学习交流使用。

---

**享受学习吧！📚✨**

