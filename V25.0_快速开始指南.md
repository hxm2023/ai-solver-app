# 🚀 V25.0 快速开始指南

## 欢迎使用沐梧AI解题系统 V25.0！

本指南将帮助您在5分钟内快速体验V25.0的所有新功能。

---

## 📦 第一步：安装新依赖

### 后端依赖安装

```bash
# 进入后端目录
cd backend

# 激活虚拟环境（如果使用）
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 安装/更新依赖
pip install -r requirements.txt
```

**⏰ 预计时间:** 2-3分钟

**注意事项:**
- ⚠️ pyppeteer首次使用会自动下载Chromium浏览器（约150MB）
- 💡 建议在良好网络环境下进行

---

## 🎯 第二步：启动系统

### 启动后端
```bash
cd backend
python main_simple.py
```

或使用批处理文件：
```bash
【点我启动】后端服务-使用虚拟环境.bat
```

### 启动前端
```bash
cd frontend/vite-project
npm run dev
```

或使用批处理文件：
```bash
启动新界面.bat
```

**访问地址:** http://localhost:5173

---

## ✨ 第三步：体验新功能

### 功能1: LaTeX公式完美渲染 ✅

**体验步骤:**
1. 进入"📝 智能试卷"标签页
2. 选择错题并生成题目（包含数学公式）
3. 查看"✨ 生成的题目"标签页

**观察要点:**
- ✅ 所有LaTeX公式立即渲染，不再显示源码
- ✅ 公式显示清晰、美观

---

### 功能2: PDF导出（支持公式） ✅

**体验步骤:**
1. 在"生成的题目"页面勾选题目
2. 点击"📥 导出选中"按钮
3. 等待5-10秒（首次可能需要下载浏览器）
4. 查看下载的PDF文件

**观察要点:**
- ✅ PDF中公式完美显示（不是源码）
- ✅ 排版美观，适合打印
- ✅ 支持SVG图形和表格

**首次使用提示:**
```
第一次导出PDF时，系统会自动下载Chromium浏览器
请耐心等待，这只需要一次
```

---

### 功能3: AI生成图表题目 ✅

**体验步骤:**
1. 创建一个数学错题（如函数、几何）
2. 在"智能试卷"页面选择该错题
3. 生成题目
4. 查看生成的题目是否包含图表

**可能的效果:**
- 📊 Markdown表格（数据对比）
- 📐 SVG几何图形（圆、三角形等）
- 📈 SVG函数图像（坐标系）

**示例提示词:**
您也可以在主界面手动输入包含SVG的题目测试：
```markdown
如图所示，圆O的半径为5，求圆的面积。

<svg width="150" height="150">
  <circle cx="75" cy="75" r="50" fill="none" stroke="black" stroke-width="2"/>
  <text x="70" y="80" font-size="12">O</text>
</svg>
```

---

### 功能4: 网络辅助出题 🌐 ✅

**体验步骤:**
1. 进入"📝 智能试卷"标签页
2. 选择知识点或错题
3. **勾选"🌐 允许网络搜索辅助出题"**
4. 设置参数后点击"🚀 生成专属试卷"
5. 等待生成（时间稍长）

**观察要点:**
- ✅ 生成的题目更真实、更贴近考试风格
- ✅ 成功后提示"（已使用网络辅助）"
- ✅ 失败时自动降级为纯AI出题

**对比测试:**
建议分别生成两次（一次开启、一次关闭），对比题目质量。

---

### 功能5: 学科/年级筛选 🔍 ✅

**体验步骤:**
1. 确保有多个不同学科/年级的错题
2. 进入"📚 错题本"标签页
3. 使用筛选器选择学科（如"数学"）
4. 或选择年级（如"高中"）
5. 观察错题列表自动过滤

**自动推测:**
- 系统会根据题目内容自动推测学科和年级
- 在错题卡片上显示彩色标签
- 学科标签（蓝色）、年级标签（橙色）

**手动测试:**
创建一道错题，在内容中包含"高一数学"等关键词，观察是否正确推测。

---

## 🎨 界面新变化

### 错题卡片增强
```
┌─────────────────────────────┐
│ [数学] [高中]  查看3次      │  ← 新增年级标签
│                             │
│ 题目：在△ABC中，已知...     │
│                             │
│ 🏷️ 一元二次方程 勾股定理   │
├─────────────────────────────┤
│ [✓] 选中  [🗑️] 删除        │
└─────────────────────────────┘
```

### 筛选器
```
📊 筛选条件
┌─────────────────────────────┐
│ 学科: [全部学科 ▼]          │
│ 年级: [全部年级 ▼]          │
│ [清除筛选]                  │
└─────────────────────────────┘
```

### 网络辅助选项
```
┌─────────────────────────────┐
│ ☑ 🌐 允许网络搜索辅助出题   │
│ ✓ AI将搜索相关题库网站      │
│   作为参考，生成更真实、    │
│   更高质量的题目            │
└─────────────────────────────┘
```

---

## 🔧 常见问题

### Q1: PDF导出时报错 "BrowserError"
**A:** Chromium浏览器下载失败或未完成
```bash
# 手动安装
python -m pyppeteer_install
```

### Q2: LaTeX公式还是不渲染
**A:** 检查浏览器控制台是否有MathJax加载错误
- 刷新页面
- 检查网络连接（MathJax从CDN加载）

### Q3: 网络搜索总是失败
**A:** 可能是网络问题或被反爬虫限制
- 检查网络连接
- 暂时使用纯AI模式（默认）
- 系统会自动降级，不影响使用

### Q4: 年级显示为"未分类"
**A:** 题目内容中没有包含年级关键词
- 这是正常的，系统基于关键词推测
- 未来版本会支持手动编辑

---

## 📖 深入学习

想了解更多技术细节？请阅读：

- **完整升级报告:** `V25.0_完整系统升级报告.md`
- **API文档:** `API接口使用指南.md`
- **技术架构:** `【快速参考】技术架构速查.md`

---

## 🎉 开始使用吧！

所有准备工作已完成，现在您可以：

1. ✅ 上传错题图片，自动保存
2. ✅ 生成包含图表的练习题
3. ✅ 导出带公式的精美PDF
4. ✅ 使用网络辅助提升题目质量
5. ✅ 按学科/年级精准筛选错题

---

## 💡 最佳实践建议

### 1. PDF导出
- 一次导出5-10道题为宜（速度和文件大小平衡）
- 导出前预览确认公式显示正常

### 2. 网络辅助出题
- 对于常见学科（数学、英语）效果最好
- 建议在需要高质量题目时开启
- 日常练习可关闭，节省时间

### 3. 学科/年级管理
- 创建错题时在内容中标注学科和年级
- 定期使用筛选功能复习特定科目
- 关注统计数据，了解薄弱环节

---

**版本:** V25.0  
**发布日期:** 2024-10-24  
**文档更新:** 2024-10-24

**祝您学习进步！** 🎓✨

